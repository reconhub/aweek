<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>The aweek class — print.aweek • aweek</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="The aweek class — print.aweek" />
<meta property="og:description" content="The aweek class is a character or factor in the format YYYY-Www(-d) with a
&quot;week_start&quot; attribute containing an integer specifying which day of the ISO
8601 week each week should begin." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">aweek</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/introduction.html">aweek means 'any week'</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/reconhub/aweek/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>The aweek class</h1>
    <small class="dont-index">Source: <a href='https://github.com/reconhub/aweek/blob/master/R/aweek-methods.R'><code>R/aweek-methods.R</code></a></small>
    <div class="hidden name"><code>aweek-class.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The aweek class is a character or factor in the format YYYY-Www(-d) with a
"week_start" attribute containing an integer specifying which day of the ISO
8601 week each week should begin.</p>
    </div>

    <pre class="usage"># S3 method for aweek
print(x, ...)

# S3 method for aweek
[(x, i)

# S3 method for aweek
[[(x, i)

# S3 method for aweek
[(x, i) &lt;- value

# S3 method for aweek
as.list(x, ...)

# S3 method for aweek
trunc(x, ...)

# S3 method for aweek
rep(x, ...)

# S3 method for aweek
c(..., recursive = FALSE, use.names = TRUE)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>an object of class <code>aweek</code></p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>a series of <code>aweek</code> objects, characters, or Dates, (unused in <code>print.aweek()</code>)</p></td>
    </tr>
    <tr>
      <th>i</th>
      <td><p>index for subsetting an aweek object.</p></td>
    </tr>
    <tr>
      <th>value</th>
      <td><p>a value to add or replace in an aweek object</p></td>
    </tr>
    <tr>
      <th>recursive, use.names</th>
      <td><p>parameters passed on to <code><a href='https://rdrr.io/r/base/unlist.html'>unlist()</a></code></p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>an object of class <code>aweek</code></p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Weeks differ in their start dates depending on context. The ISO
8601 standard specifies that Monday starts the week
(<a href='https://en.wikipedia.org/wiki/ISO_week_date'>https://en.wikipedia.org/wiki/ISO_week_date</a>) while the US CDC uses
Sunday as the start of the week
(<a href='https://wwwn.cdc.gov/nndss/document/MMWR_Week_overview.pdf'>https://wwwn.cdc.gov/nndss/document/MMWR_Week_overview.pdf</a>). For
example, MSF has varying start dates depending on country in order to
better coordinate response.</p>
<p>While there are packages that provide conversion for ISOweeks and epiweeks,
these do not provide seamless conversion from dates to epiweeks with
non-standard start dates. This package provides a lightweight utility to
be able to convert each day.</p>
<h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Calculation of week numbers</h3>


<p>Week numbers are calculated in three steps:</p><ol>
<li><p>Find the day of the week, relative to the week_start (d). The day of the
week (d) relative to the week start (s) is calculated using the ISO week
day (i) via <code>d = 1L + ((i + (7L - s)) %% 7L)</code>.</p></li>
<li><p>Find the date that represents midweek (m). The date that represents
midweek is found by subtracting the day of the week (d) from 4 and
adding that number of days to the current date: <code>m = date + (4 - d)</code>.</p></li>
<li><p>Find the week number (w) by counting the number of days since 1 January
to (m), and use integer division by 7: <code>w = 1L + ((m - yyyy-01-01) %/% 7)</code></p></li>
</ol>

<p>For the weeks around 1 January, the year is determined by the week number.
If the month is January, but the week number is 52 or 53, then the year for
the week (YYYY) is the calendar year (yyyy) minus 1. However, if the month
is December, but the week number is 1, then the year for the week (YYYY) is
the calendar year (yyyy) plus 1.</p>
<h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Structure of the aweek object</h3>


<p>The aweek object is a character vector in either the precise ISO week
format (YYYY-Www-d) or imprecise ISO week format (YYYY-Www) with
a <code>week_start</code> attribute indicating which ISO week day the week begins.
The precise ISO week format can be broken down like this:</p><ul>
<li><p><strong>YYYY</strong> is an ISO week-numbering year, which is the year relative to
the week, not the day. For example, the date 2016-01-01 would be
represented as 2015-W53-5 (ISO week), because while the date is in the
year 2016, the week is still part of the final week of 2015.</p></li>
<li><p>W<strong>ww</strong> is the week number, prefixed by the character "W". This ranges
from 01 to 52 or 53, depending on whether or not the year has 52 or 53
weeks.</p></li>
<li><p><strong>d</strong> is a digit representing the weekday where 1 represents the first
day of the week and 7 represents the last day of the week. #'
The attribute <code>week_start</code> represents the first day of the week as an ISO
week day. This defaults to 1, which is Monday. If, for example, an aweek
object represented weeks starting on Friday, then the <code>week_start</code>
attribute would be 5, which is Friday of the ISO week.</p></li>
</ul>

<p>Imprecise formats (YYYY-Www) are equivalent to the first day of the week.
For example, 2015-W53 and 2015-W53-1 will be identical when converted to
date.</p>

    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>when combining aweek objects together, you must ensure that they have
the same week_start attribute. You can use <code><a href='change_week_start.html'>change_week_start()</a></code> to adjust
it.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='date2week.html'>date2week()</a></code>, <code><a href='get_aweek.html'>get_aweek()</a></code>, <code><a href='as.Date.aweek.html'>as.Date.aweek()</a></code>, <code><a href='change_week_start.html'>change_week_start()</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='va'>d</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2018-12-20"</span><span class='op'>)</span> <span class='op'>+</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>40</span>
<span class='va'>w</span> <span class='op'>&lt;-</span> <span class='fu'><a href='date2week.html'>date2week</a></span><span class='op'>(</span><span class='va'>d</span>, week_start <span class='op'>=</span> <span class='st'>"Sunday"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>w</span><span class='op'>)</span>
</div><div class='output co'>#&gt; &lt;aweek start: Sunday&gt;
#&gt;  [1] "2018-W51-6" "2018-W51-7" "2018-W52-1" "2018-W52-2" "2018-W52-3"
#&gt;  [6] "2018-W52-4" "2018-W52-5" "2018-W52-6" "2018-W52-7" "2019-W01-1"
#&gt; [11] "2019-W01-2" "2019-W01-3" "2019-W01-4" "2019-W01-5" "2019-W01-6"
#&gt; [16] "2019-W01-7" "2019-W02-1" "2019-W02-2" "2019-W02-3" "2019-W02-4"
#&gt; [21] "2019-W02-5" "2019-W02-6" "2019-W02-7" "2019-W03-1" "2019-W03-2"
#&gt; [26] "2019-W03-3" "2019-W03-4" "2019-W03-5" "2019-W03-6" "2019-W03-7"
#&gt; [31] "2019-W04-1" "2019-W04-2" "2019-W04-3" "2019-W04-4" "2019-W04-5"
#&gt; [36] "2019-W04-6" "2019-W04-7" "2019-W05-1" "2019-W05-2" "2019-W05-3"</div><div class='input'>
<span class='co'># subsetting acts as normal</span>
<span class='va'>w</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>10</span><span class='op'>]</span>
</div><div class='output co'>#&gt; &lt;aweek start: Sunday&gt;
#&gt;  [1] "2018-W51-6" "2018-W51-7" "2018-W52-1" "2018-W52-2" "2018-W52-3"
#&gt;  [6] "2018-W52-4" "2018-W52-5" "2018-W52-6" "2018-W52-7" "2019-W01-1"</div><div class='input'>
<span class='co'># Combining multiple aweek objects will only work if they have the same</span>
<span class='co'># week_start day</span>
<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>w</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span>, <span class='va'>w</span><span class='op'>[</span><span class='fl'>3</span><span class='op'>]</span>, <span class='va'>w</span><span class='op'>[</span><span class='fl'>5</span><span class='op'>]</span>, <span class='fu'><a href='as.aweek.html'>as.aweek</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2018-12-01"</span><span class='op'>)</span>, week_start <span class='op'>=</span> <span class='st'>"Sunday"</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; &lt;aweek start: Sunday&gt;
#&gt; [1] "2018-W51-6" "2018-W52-1" "2018-W52-3" "2018-W48-7"</div><div class='input'>
<span class='co'># differing week_start days will throw an error</span>
<span class='va'>mon</span> <span class='op'>&lt;-</span> <span class='fu'><a href='date2week.html'>date2week</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2018-12-01"</span><span class='op'>)</span>, week_start <span class='op'>=</span> <span class='st'>"Monday"</span><span class='op'>)</span>
<span class='va'>mon</span>
</div><div class='output co'>#&gt; &lt;aweek start: Monday&gt;
#&gt; [1] "2018-W48-6"</div><div class='input'><span class='kw'><a href='https://rdrr.io/r/base/try.html'>try</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>w</span>, <span class='va'>mon</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Error in c.aweek(w, mon) : 
#&gt;   All aweek objects must have the same week_start attribute. Please use change_week_start() to adjust the week_start attribute if you wish to combine these objects.</div><div class='input'>
<span class='co'># combining Dates will be coerced to aweek objects under the same rules</span>
<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>w</span>, <span class='fu'><a href='https://rdrr.io/r/base/Sys.time.html'>Sys.Date</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; &lt;aweek start: Sunday&gt;
#&gt;  [1] "2018-W51-6" "2018-W51-7" "2018-W52-1" "2018-W52-2" "2018-W52-3"
#&gt;  [6] "2018-W52-4" "2018-W52-5" "2018-W52-6" "2018-W52-7" "2019-W01-1"
#&gt; [11] "2019-W01-2" "2019-W01-3" "2019-W01-4" "2019-W01-5" "2019-W01-6"
#&gt; [16] "2019-W01-7" "2019-W02-1" "2019-W02-2" "2019-W02-3" "2019-W02-4"
#&gt; [21] "2019-W02-5" "2019-W02-6" "2019-W02-7" "2019-W03-1" "2019-W03-2"
#&gt; [26] "2019-W03-3" "2019-W03-4" "2019-W03-5" "2019-W03-6" "2019-W03-7"
#&gt; [31] "2019-W04-1" "2019-W04-2" "2019-W04-3" "2019-W04-4" "2019-W04-5"
#&gt; [36] "2019-W04-6" "2019-W04-7" "2019-W05-1" "2019-W05-2" "2019-W05-3"
#&gt; [41] "2021-W12-1"</div><div class='input'>
<span class='co'># truncated aweek objects will be un-truncated</span>
<span class='va'>w2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='date2week.html'>date2week</a></span><span class='op'>(</span><span class='va'>d</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>5</span><span class='op'>]</span>, week_start <span class='op'>=</span> <span class='st'>"Sunday"</span>, floor_day <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
<span class='va'>w2</span>
</div><div class='output co'>#&gt; &lt;aweek start: Sunday&gt;
#&gt; [1] "2018-W51" "2018-W51" "2018-W52" "2018-W52" "2018-W52"</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>w</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>5</span><span class='op'>]</span>, <span class='va'>w2</span><span class='op'>)</span>
</div><div class='output co'>#&gt; &lt;aweek start: Sunday&gt;
#&gt;  [1] "2018-W51-6" "2018-W51-7" "2018-W52-1" "2018-W52-2" "2018-W52-3"
#&gt;  [6] "2018-W51-1" "2018-W51-1" "2018-W52-1" "2018-W52-1" "2018-W52-1"</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Zhian N. Kamvar.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


