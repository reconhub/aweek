<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Convert characters or dates to aweek objects — as.aweek • aweek</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Convert characters or dates to aweek objects — as.aweek" />
<meta property="og:description" content="Convert characters or dates to aweek objects" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">aweek</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/introduction.html">aweek means 'any week'</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/reconhub/aweek/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Convert characters or dates to aweek objects</h1>
    <small class="dont-index">Source: <a href='https://github.com/reconhub/aweek/blob/master/R/as.aweek.R'><code>R/as.aweek.R</code></a></small>
    <div class="hidden name"><code>as.aweek.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Convert characters or dates to aweek objects</p>
    </div>

    <pre class="usage"><span class='fu'>as.aweek</span><span class='op'>(</span><span class='va'>x</span>, week_start <span class='op'>=</span> <span class='fu'><a href='set_week_start.html'>get_week_start</a></span><span class='op'>(</span><span class='op'>)</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for default</span>
<span class='fu'>as.aweek</span><span class='op'>(</span><span class='va'>x</span>, week_start <span class='op'>=</span> <span class='cn'>NULL</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for `NULL`</span>
<span class='fu'>as.aweek</span><span class='op'>(</span><span class='va'>x</span>, week_start <span class='op'>=</span> <span class='cn'>NULL</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for character</span>
<span class='fu'>as.aweek</span><span class='op'>(</span><span class='va'>x</span>, week_start <span class='op'>=</span> <span class='fu'><a href='set_week_start.html'>get_week_start</a></span><span class='op'>(</span><span class='op'>)</span>, start <span class='op'>=</span> <span class='va'>week_start</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for factor</span>
<span class='fu'>as.aweek</span><span class='op'>(</span><span class='va'>x</span>, week_start <span class='op'>=</span> <span class='fu'><a href='set_week_start.html'>get_week_start</a></span><span class='op'>(</span><span class='op'>)</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for Date</span>
<span class='fu'>as.aweek</span><span class='op'>(</span><span class='va'>x</span>, week_start <span class='op'>=</span> <span class='fu'><a href='set_week_start.html'>get_week_start</a></span><span class='op'>(</span><span class='op'>)</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for POSIXt</span>
<span class='fu'>as.aweek</span><span class='op'>(</span><span class='va'>x</span>, week_start <span class='op'>=</span> <span class='fu'><a href='set_week_start.html'>get_week_start</a></span><span class='op'>(</span><span class='op'>)</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for aweek</span>
<span class='fu'>as.aweek</span><span class='op'>(</span><span class='va'>x</span>, week_start <span class='op'>=</span> <span class='cn'>NULL</span>, <span class='va'>...</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>a <a href='https://rdrr.io/r/base/Dates.html'>Date</a>, <a href='https://rdrr.io/r/base/DateTimeClasses.html'>POSIXct</a>, <a href='https://rdrr.io/r/base/DateTimeClasses.html'>POSIXlt</a>, or a
correctly formatted (YYYY-Www-d) character string that represents the year,
week, and weekday.</p></td>
    </tr>
    <tr>
      <th>week_start</th>
      <td><p>a number indicating the start of the week based on the ISO
8601 standard from 1 to 7 where 1 = Monday OR an abbreviation of the
weekdate in an English or current locale. <em>Note: using a non-English locale
may render your code non-portable.</em> Defaults to the value of
<code><a href='set_week_start.html'>get_week_start()</a></code></p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>arguments passed on to <code><a href='date2week.html'>date2week()</a></code> and <code><a href='https://rdrr.io/r/base/as.POSIXlt.html'>as.POSIXlt()</a></code></p></td>
    </tr>
    <tr>
      <th>start</th>
      <td><p>an integer (or character) vector of days that the weeks
start on for each corresponding week. Defaults to the value of
<code><a href='set_week_start.html'>get_week_start()</a></code>. Note that these will not determine the final week.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>an <a href='print.aweek.html'>aweek</a> object</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The <code>as.aweek()</code> will coerce character, dates, and datetime objects
to aweek objects. Dates are trivial to convert to weeks because there is
only one correct way to convert them with any given <code>week_start</code>.</p>
<p>There is a bit of nuance to be aware of when converting
characters to aweek objects:</p><ul>
<li><p>The characters must be correctly formatted as <code>YYYY-Www-d</code>, where YYYY
is the year relative to the week, Www is the week number (ww) prepended
by a W, and d (optional) is the day of the week from 1 to 7 where 1
represents the week_start. This means that characters formatted as
dates will be rejected.</p></li>
<li><p>By default, the <code>week_start</code> and <code>start</code> parameters are identical. If
your data contains heterogeneous weeks (e.g. some dates will have the
week start on Monday and some will have the week start on Sunday), then
you should use the <code>start</code> parameter to reflect this. Internally, the
weeks will first be converted to dates with their respective starts and
then converted back to weeks, unified under the <code>week_start</code> parameter.</p></li>
</ul>

    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>factors are first converted to characters before they are converted to
aweek objects.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><a href='print.aweek.html'>"aweek-class"</a> for details on the aweek object,
<code><a href='get_aweek.html'>get_aweek()</a></code> for converting numeric weeks to weeks or dates,
<code><a href='date2week.html'>date2week()</a></code> for converting dates to weeks, <code><a href='date2week.html'>week2date()</a></code> for converting
weeks to dates.</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'># aweek objects can only be created from valid weeks:</span>

<span class='fu'>as.aweek</span><span class='op'>(</span><span class='st'>"2018-W10-5"</span>, week_start <span class='op'>=</span> <span class='fl'>7</span><span class='op'>)</span> <span class='co'># works!</span>
</div><div class='output co'>#&gt; &lt;aweek start: Sunday&gt;
#&gt; [1] "2018-W10-5"</div><div class='input'><span class='kw'><a href='https://rdrr.io/r/base/try.html'>try</a></span><span class='op'>(</span><span class='fu'>as.aweek</span><span class='op'>(</span><span class='st'>"2018-10-5"</span>, week_start <span class='op'>=</span> <span class='fl'>7</span><span class='op'>)</span><span class='op'>)</span> <span class='co'># doesn't work :(</span>
</div><div class='output co'>#&gt; Error in stop_if_not_aweek_string(x) : 
#&gt;   aweek strings must match the pattern 'YYYY-Www-d'. The first incorrect string was: '2018-10-5'</div><div class='input'>
<span class='co'># you can also convert dates or datetimes</span>
<span class='fu'>as.aweek</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/Sys.time.html'>Sys.Date</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; &lt;aweek start: Monday&gt;
#&gt; [1] "2021-W11-7"</div><div class='input'><span class='fu'>as.aweek</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/Sys.time.html'>Sys.time</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; &lt;aweek start: Monday&gt;
#&gt; [1] "2021-W11-7"</div><div class='input'>
<span class='co'># all functions get passed to date2week, so you can use any of its arguments:</span>
<span class='fu'>as.aweek</span><span class='op'>(</span><span class='st'>"2018-W10-5"</span>, week_start <span class='op'>=</span> <span class='fl'>7</span>, floor_day <span class='op'>=</span> <span class='cn'>TRUE</span>, factor <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span> 
</div><div class='output co'>#&gt; &lt;aweek start: Sunday&gt;
#&gt; [1] 2018-W10
#&gt; Levels: 2018-W10</div><div class='input'><span class='fu'>as.aweek</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2018-03-09"</span><span class='op'>)</span>, floor_day <span class='op'>=</span> <span class='cn'>TRUE</span>, factor <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
</div><div class='output co'>#&gt; &lt;aweek start: Monday&gt;
#&gt; [1] 2018-W10
#&gt; Levels: 2018-W10</div><div class='input'>
<span class='co'># If you have a character vector where different elements begin on different</span>
<span class='co'># days of the week, you can use the "start" argument to ensure they are</span>
<span class='co'># correctly converted.</span>
<span class='fu'>as.aweek</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span>mon <span class='op'>=</span> <span class='st'>"2018-W10-1"</span>, tue <span class='op'>=</span> <span class='st'>"2018-W10-1"</span><span class='op'>)</span>, 
         week_start <span class='op'>=</span> <span class='st'>"Monday"</span>, 
         start <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Monday"</span>, <span class='st'>"Tuesday"</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; &lt;aweek start: Monday&gt;
#&gt;          mon          tue 
#&gt; "2018-W10-1" "2018-W10-2" </div><div class='input'>
<span class='co'># you can convert aweek objects to aweek objects:</span>
<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='get_aweek.html'>get_aweek</a></span><span class='op'>(</span><span class='op'>)</span>
<span class='fu'>as.aweek</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>
</div><div class='output co'>#&gt; &lt;aweek start: Monday&gt;
#&gt; [1] "2021-W01-1"</div><div class='input'><span class='fu'>as.aweek</span><span class='op'>(</span><span class='va'>x</span>, week_start <span class='op'>=</span> <span class='fl'>7</span><span class='op'>)</span>
</div><div class='output co'>#&gt; &lt;aweek start: Sunday&gt;
#&gt; [1] "2021-W01-2"</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Zhian N. Kamvar.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


