<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Convert dates to weeks and back again — aweek-package • aweek</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Convert dates to weeks and back again — aweek-package" />
<meta property="og:description" content="The aweek package is a lightweight solution for converting dates to weeks
that can start on any weekday. It implements the aweek class,
which can easily be converted to date and weeks that start on different days." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">aweek</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/introduction.html">aweek means 'any week'</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/reconhub/aweek/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Convert dates to weeks and back again</h1>
    <small class="dont-index">Source: <a href='https://github.com/reconhub/aweek/blob/master/R/aweek-package.R'><code>R/aweek-package.R</code></a></small>
    <div class="hidden name"><code>aweek-package.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The aweek package is a lightweight solution for converting dates to weeks
that can start on any weekday. It implements the <a href='print.aweek.html'>aweek class</a>,
which can easily be converted to date and weeks that start on different days.</p>
    </div>



    <h2 class="hasAnchor" id="before-you-begin"><a class="anchor" href="#before-you-begin"></a>Before you begin</h2>

    


<p>When you work with aweek, you will want to make sure that you set the default
<code>week_start</code> variable to indicate which day of the week your weeks should
begin. This can be done with <code><a href='set_week_start.html'>set_week_start()</a></code>. It will ensure that all of
your weeks will begin on the same day.</p><ul>
<li><p><code><a href='set_week_start.html'>get_week_start()</a></code> returns the global week_start option</p></li>
<li><p><code><a href='set_week_start.html'>set_week_start()</a></code> sets the global week_start option</p></li>
</ul>

    <h2 class="hasAnchor" id="conversions"><a class="anchor" href="#conversions"></a>Conversions</h2>

    


<h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Dates to weeks</h3>


<p>This conversion is the simplest because dates are unambiguous.</p><ul>
<li><p><code><a href='date2week.html'>date2week()</a></code> converts dates, datetimes, and characters that look like dates to weeks</p></li>
<li><p><code><a href='as.aweek.html'>as.aweek()</a></code> is a wrapper around <code><a href='date2week.html'>date2week()</a></code> that converts dates and datetimes</p></li>
</ul>


<h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Week numbers to weeks or dates</h3>


<p>If you have separate columns for week numbers and years, then this is the
option for you. This allows you to specify a different start for each week
element using the <code>start</code> argument.</p><ul>
<li><p><code><a href='get_aweek.html'>get_aweek()</a></code> converts week numbers (with years and days) to <a href='print.aweek.html'>aweek objects</a>.</p></li>
<li><p><code><a href='get_aweek.html'>get_date()</a></code> converts week numbers (with years and days) to <a href='https://rdrr.io/r/base/Dates.html'>Dates</a>.</p></li>
</ul>


<h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>ISO week strings (YYYY-Www-d or YYYY-Www) to weeks or dates</h3>

<ul>
<li><p><code><a href='as.aweek.html'>as.aweek()</a></code> converts ISO-week formatted strings to <a href='print.aweek.html'>aweek objects</a>.</p></li>
<li><p><code><a href='date2week.html'>week2date()</a></code> converts ISO-week formatted strings to <a href='https://rdrr.io/r/base/Dates.html'>Date</a>.</p></li>
</ul>


<h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>aweek objects to dates or datetimes</h3>


<p>This conversion is simple for <a href='print.aweek.html'>aweek</a> objects since their
week_start is unambiguous</p><ul>
<li><p><a href='as.Date.aweek.html'>as.Date()</a> converts to <a href='https://rdrr.io/r/base/Dates.html'>Date</a>.</p></li>
<li><p><a href='as.Date.aweek.html'>as.POSIXlt()</a> converts to <a href='https://rdrr.io/r/base/DateTimeClasses.html'>POSIXlt</a>.</p></li>
</ul>



<h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>aweek objects to characters</h3>


<p>You can strip the week_start attribute of the aweek object by converting to
a character with <code><a href='https://rdrr.io/r/base/character.html'>as.character()</a></code></p>

    <h2 class="hasAnchor" id="manipulating-aweek-objects"><a class="anchor" href="#manipulating-aweek-objects"></a>Manipulating aweek objects</h2>

    

<ul>
<li><p><code><a href='https://rdrr.io/r/base/Round.html'>trunc()</a></code> removes the weekday element of the ISO week string.</p></li>
<li><p><code><a href='factor_aweek.html'>factor_aweek()</a></code> does the same thing as trunc(), but will create a factor
with levels spanning all the weeks from the first week to the last week.
Useful for creating tables with zero counts for unobserved weeks.</p></li>
<li><p><code><a href='change_week_start.html'>change_week_start()</a></code> will change the week_start attribute and adjust the
weeks accordingly so that the dates will always be consistent.</p></li>
</ul>

<p>When you combine aweek objects, they must have the same week_start attribute.
Characters can be added to aweek objects as long as they are in ISO week
format and you can safely assume that they start on the same weekday. Dates
are trivial to add to aweek objects. See the <a href='print.aweek.html'>aweek</a>
documentation for details.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Useful links:</p><ul>
<li><p><a href='https://www.repidemicsconsortium.org/aweek/'>https://www.repidemicsconsortium.org/aweek/</a></p></li>
<li><p>Report bugs at <a href='https://github.com/reconhub/aweek/issues/'>https://github.com/reconhub/aweek/issues/</a></p></li>
</ul>

</div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p><strong>Maintainer</strong>: Zhian N. Kamvar <a href='mailto:zkamvar@gmail.com'>zkamvar@gmail.com</a></p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># At the beginning of your analysis, set the week start to the weeks you want</span>
<span class='co'># to use for reporting</span>
<span class='va'>ow</span> <span class='op'>&lt;-</span> <span class='fu'><a href='set_week_start.html'>set_week_start</a></span><span class='op'>(</span><span class='st'>"Sunday"</span><span class='op'>)</span>

<span class='co'># convert dates to weeks</span>
<span class='va'>d</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"2014-02-11"</span>, <span class='st'>"2014-03-04"</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>w</span> <span class='op'>&lt;-</span> <span class='fu'><a href='as.aweek.html'>as.aweek</a></span><span class='op'>(</span><span class='va'>d</span><span class='op'>)</span> 
<span class='va'>w</span>
</div><div class='output co'>#&gt; &lt;aweek start: Sunday&gt;
#&gt; [1] "2014-W07-3" "2014-W10-3"</div><div class='input'>
<span class='co'># get the week numbers</span>
<span class='fu'><a href='date2week.html'>date2week</a></span><span class='op'>(</span><span class='va'>d</span>, numeric <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1]  7 10</div><div class='input'>
<span class='co'># convert back to date</span>
<span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='va'>w</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "2014-02-11" "2014-03-04"</div><div class='input'>
<span class='co'># convert to factor</span>
<span class='fu'><a href='factor_aweek.html'>factor_aweek</a></span><span class='op'>(</span><span class='va'>w</span><span class='op'>)</span>
</div><div class='output co'>#&gt; &lt;aweek start: Sunday&gt;
#&gt; [1] 2014-W07 2014-W10
#&gt; Levels: 2014-W07 2014-W08 2014-W09 2014-W10</div><div class='input'>
<span class='co'># append a week</span>
<span class='va'>w</span><span class='op'>[</span><span class='fl'>3</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2014-10-31"</span><span class='op'>)</span>
<span class='va'>w</span> 
</div><div class='output co'>#&gt; &lt;aweek start: Sunday&gt;
#&gt; [1] "2014-W07-3" "2014-W10-3" "2014-W44-6"</div><div class='input'>
<span class='co'># change week start variable (if needed)</span>
<span class='fu'><a href='change_week_start.html'>change_week_start</a></span><span class='op'>(</span><span class='va'>w</span>, <span class='st'>"Monday"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; &lt;aweek start: Monday&gt;
#&gt; [1] "2014-W07-2" "2014-W10-2" "2014-W44-5"</div><div class='input'>
<span class='co'># note that the date remains the same</span>
<span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='fu'><a href='change_week_start.html'>change_week_start</a></span><span class='op'>(</span><span class='va'>w</span>, <span class='st'>"Monday"</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "2014-02-11" "2014-03-04" "2014-10-31"</div><div class='input'>
<span class='co'># Don't forget to reset the week_start at the end</span>
<span class='fu'><a href='set_week_start.html'>set_week_start</a></span><span class='op'>(</span><span class='va'>ow</span><span class='op'>)</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Zhian N. Kamvar.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


